# 数据处理类MCP工具使用指南（更新版）

生成时间: 2025-08-24 23:14:24

## 工具概览

本工具集包含以下数据处理相关的MCP服务器：

### ⚠️ Qdrant向量数据库服务器

**类型**: 本地服务器
**状态**: warning
**描述**: 本地向量数据库服务，支持语义搜索和向量存储

**启动方式**:
```bash
python local_qdrant_mcp_server.py
```

**集成方式**:
```python
# 导入服务器类
from local_qdrant_mcp_server import *

# 创建服务器实例
server = QdrantMcpMCPServer()

# 执行功能
result = server.execute_function('function_name', **params)
```

---

### ❌ Financial Datasets金融数据服务器

**类型**: 远程服务器
**状态**: error
**描述**: 提供股票、财务报表等金融数据访问

---

### ❌ Markdownify文档转换服务器

**类型**: 远程服务器
**状态**: error
**描述**: 将网页、HTML、PDF等转换为Markdown格式

---

### ⚠️ 数据库MCP服务器集合

**类型**: 本地服务器
**状态**: warning
**描述**: 本地数据库访问服务，支持SQLite、MySQL、PostgreSQL等

**启动方式**:
```bash
python local_database_mcp_server.py
```

**集成方式**:
```python
# 导入服务器类
from local_database_mcp_server import *

# 创建服务器实例
server = DatabaseMcpMCPServer()

# 执行功能
result = server.execute_function('function_name', **params)
```

---

### ⚠️ CSV数据探索服务器

**类型**: 本地服务器
**状态**: warning
**描述**: 本地CSV文件分析和探索工具

**启动方式**:
```bash
python local_csv_explorer_server.py
```

**集成方式**:
```python
# 导入服务器类
from local_csv_explorer_server import *

# 创建服务器实例
server = CsvExplorerMCPServer()

# 执行功能
result = server.execute_function('function_name', **params)
```

---

## 快速开始

### 1. 环境准备

确保已安装以下依赖：

```bash
# 基础依赖
pip install pandas numpy requests chardet httpx

# 数据库驱动（可选）
pip install pymysql psycopg2-binary pyodbc
```

### 2. 本地服务器使用示例

#### Qdrant向量数据库服务器

```python
from local_qdrant_mcp_server import QdrantMCPServer

# 创建服务器
server = QdrantMCPServer()

# 创建集合
result = server.execute_function(
    'create_collection',
    collection_name='my_collection',
    vector_size=128,
    distance='cosine'
)

# 插入向量
points = [{
    'id': 'doc1',
    'vector': [0.1] * 128,
    'payload': {'title': '文档1', 'content': '内容'}
}]
server.execute_function('upsert_points', collection_name='my_collection', points=points)

# 搜索相似向量
result = server.execute_function(
    'search_points',
    collection_name='my_collection',
    query_vector=[0.1] * 128,
    limit=5
)
```

#### CSV数据探索服务器

```python
from local_csv_explorer_server import CSVExplorerMCPServer

# 创建服务器
server = CSVExplorerMCPServer()

# 加载CSV文件
result = server.execute_function('load_csv', file_path='data.csv')
file_key = result['file_key']

# 获取基本信息
info = server.execute_function('get_basic_info', file_key=file_key)

# 统计分析
stats = server.execute_function('get_statistical_summary', file_key=file_key)

# 数据质量检查
quality = server.execute_function('check_data_quality', file_key=file_key)
```

#### 数据库MCP服务器

```python
from local_database_mcp_server import LocalDatabaseMCPServer

# 创建服务器
server = LocalDatabaseMCPServer()

# 创建SQLite连接
server.execute_function(
    'create_connection',
    connection_id='my_db',
    db_type='sqlite',
    connection_params={'database': 'my_database.db'}
)

# 执行查询
result = server.execute_function(
    'execute_query',
    connection_id='my_db',
    query='SELECT * FROM users LIMIT 10'
)

# 导入CSV到数据库
server.execute_function(
    'import_csv_to_table',
    connection_id='my_db',
    csv_file_path='data.csv',
    table_name='imported_data'
)
```

### 3. 远程服务器使用

对于成功安装的远程服务器，请参考各自目录下的文档。

### 4. 故障排除

#### 常见问题

1. **导入错误**: 确保所有依赖包已正确安装
2. **数据库连接失败**: 检查数据库服务是否运行，连接参数是否正确
3. **文件路径错误**: 使用绝对路径或确保相对路径正确
4. **内存不足**: 对于大文件，考虑分块处理或增加内存限制

#### 日志查看

查看 `installation.log` 文件获取详细的安装和运行日志。

### 5. 扩展开发

所有本地服务器都提供了标准的MCP接口，可以轻松集成到其他应用中：

```python
# 获取可用功能
functions = server.get_available_functions()

# 执行功能
result = server.execute_function(function_name, **parameters)

# 检查结果
if result['status'] == 'success':
    # 处理成功结果
    data = result.get('data', {})
else:
    # 处理错误
    error_message = result.get('message', '未知错误')
```

## 技术支持

如有问题，请检查：
1. 日志文件 `installation.log`
2. 各工具的演示代码
3. 依赖包是否正确安装

---

*本指南由数据处理类MCP工具安装脚本自动生成*
