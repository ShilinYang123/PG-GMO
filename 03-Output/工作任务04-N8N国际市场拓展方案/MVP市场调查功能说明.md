# N8N MVP市场调查功能说明

## 概述
这是一个最简化的N8N市场调查工作流原型，专注于核心的数据收集和处理功能。

## 核心功能

### 1. 自动化数据收集
- **定时触发器**: 每周一上午9点自动执行
- **数据获取**: 通过HTTP请求获取市场数据
- **数据验证**: 确保获取的数据完整性

### 2. 数据处理与分析
- **智能处理**: 自动提取关键市场信息
  - 产品名称
  - 市场价格
  - 竞争对手信息
  - 市场份额数据
  - 调查时间戳

### 3. 报告生成
- **自动创建**: 生成带日期的Google Sheets报告
- **数据保存**: 结构化存储调查结果
- **通知机制**: 完成后发送邮件通知

## 快速部署步骤

### 1. 导入工作流
```bash
# 在N8N界面中导入工作流文件
文件路径: N8N_MVP_市场调查工作流.json
```

### 2. 配置必要参数

#### API数据源配置
- 节点: "获取市场数据"
- 需要配置: 实际的市场数据API地址
- 示例: `https://your-market-api.com/data`

#### Google Sheets配置
- 需要: Google账户授权
- 自动创建: 调查报告表格
- 权限: 读写权限

#### 邮件通知配置
- 节点: "发送通知"
- 需要配置: SMTP服务器信息
- 收件人: 相关负责人邮箱

### 3. 测试运行
```bash
# 手动触发测试
1. 点击"定时触发器"节点
2. 选择"Execute Node"
3. 观察执行结果
```

## 数据流程

```
定时触发 → 获取数据 → 验证数据 → 处理数据 → 创建报告 → 保存数据 → 发送通知
```

## 输出结果

### Google Sheets报告包含:
- 产品名称
- 市场价格
- 竞争对手
- 市场份额
- 调查时间

### 邮件通知包含:
- 执行时间
- 处理数据条数
- 报告链接

## 扩展建议

### 短期优化
1. **多数据源**: 添加更多API数据源
2. **错误处理**: 增加异常处理节点
3. **数据清洗**: 添加数据质量检查

### 长期规划
1. **AI分析**: 集成机器学习分析
2. **可视化**: 添加图表生成功能
3. **预警系统**: 市场变化自动预警

## 技术要求

- **N8N版本**: 1.0+
- **必需服务**: Google Sheets API
- **可选服务**: SMTP邮件服务
- **执行频率**: 可自定义（默认每周一次）

## 注意事项

1. **API限制**: 注意第三方API的调用频率限制
2. **数据隐私**: 确保敏感数据的安全处理
3. **成本控制**: 监控API调用成本
4. **备份机制**: 定期备份工作流配置

---

*这是一个MVP版本，专注于核心功能的快速实现和验证。*