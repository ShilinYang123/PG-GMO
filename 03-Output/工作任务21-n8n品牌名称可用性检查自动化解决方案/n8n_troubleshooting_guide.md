# n8n 品牌检查工作流故障排除指南

## 🔍 常见问题及解决方案

### 1. 结果文件未生成

**可能原因：**
- 文件路径权限问题
- 节点配置错误
- 数据格式问题

**解决方案：**

#### A. 检查文件路径
确保所有文件路径使用正确的格式：
- Windows路径：`s:\\PG-GMO\\filename.csv`
- 或使用相对路径：`./filename.csv`

#### B. 修改工作流配置

1. **读取CSV文件节点**
   - 确认文件路径：`s:\\PG-GMO\\brand_names.csv`
   - 或改为相对路径：`./brand_names.csv`

2. **保存结果节点**
   - 修改输出路径为：`./brand_check_results.csv`
   - 确保有写入权限

#### C. 简化测试方案

**方案1：使用相对路径**
```json
{
  "读取CSV文件": {
    "filePath": "./brand_names.csv"
  },
  "保存结果": {
    "filePath": "./brand_check_results.csv"
  }
}
```

**方案2：使用n8n内置数据**
- 删除"读取CSV文件"节点
- 在"解析CSV"节点中直接写入测试数据

### 2. 网络请求失败

**症状：**
- 域名检查返回错误
- YouTube检查超时

**解决方案：**
- 增加请求超时时间到30秒
- 添加重试机制
- 检查网络连接

### 3. 数据解析错误

**解决方案：**
- 确保CSV文件使用UTF-8编码
- 检查CSV格式是否正确
- 确保没有空行或特殊字符

## 🛠️ 快速修复步骤

### 步骤1：修改文件路径
1. 双击"读取CSV文件"节点
2. 将路径改为：`./brand_names.csv`
3. 保存设置

### 步骤2：修改输出路径
1. 双击"保存结果"节点
2. 将路径改为：`./brand_check_results.csv`
3. 保存设置

### 步骤3：测试执行
1. 点击"Execute Workflow"
2. 检查每个节点的输出
3. 查看错误信息

### 步骤4：检查结果
- 在n8n工作目录中查找生成的文件
- 或在当前工作目录查找

## 📋 调试技巧

### 1. 单步执行
- 点击每个节点的"Execute Node"按钮
- 逐步检查数据流

### 2. 查看节点输出
- 点击节点查看输入/输出数据
- 检查数据格式是否正确

### 3. 简化测试
- 先用1-2个品牌名测试
- 确认流程正常后再批量处理

## 🔄 备用方案

如果文件读写有问题，可以：

1. **手动输入数据**
   - 使用"Set"节点手动输入品牌名
   - 跳过文件读取步骤

2. **使用HTTP节点输出**
   - 将结果发送到webhook
   - 或显示在浏览器中

3. **使用邮件发送结果**
   - 添加邮件节点
   - 将结果作为邮件内容发送

## ⚡ 快速测试配置

```javascript
// 在"解析CSV"节点中直接使用测试数据
const testData = [
  { name: 'HaloQuip' },
  { name: 'hqpmade' },
  { name: 'testbrand' }
];

return testData.map(item => ({ json: item }));
```

这样可以跳过文件读取，直接测试后续流程。