# n8n CSV文件保存问题 - 快速修复指南

## 问题现象
✅ 工作流执行成功（所有节点显示绿色）  
❌ 但是没有生成CSV文件

## 根本原因
n8n的文件保存功能需要正确的**绝对路径**和**写入权限**。

## 🚀 立即解决方案

### 步骤1：修改n8n工作流配置

1. **打开n8n工作流编辑器**
2. **找到"保存文件到磁盘"节点**
3. **点击该节点进行编辑**
4. **修改fileName参数**，将其改为以下推荐路径之一：

#### 推荐配置（选择其中一个）：

**选项1（最推荐）：**
```javascript
=C:\\temp\\n8n-files\\{{ $json.fileName }}
```

**选项2：**
```javascript
=C:\\temp\\{{ $json.fileName }}
```

**选项3：**
```javascript
=S:\\PG-GMO\\03-Output\\工作任务21-n8n品牌名称可用性检查自动化解决方案\\results\\{{ $json.fileName }}
```

### 步骤2：保存并测试

1. **保存工作流配置**
2. **重新执行工作流**
3. **检查对应目录**是否生成了CSV文件

## 📁 目录说明

已为您创建了以下目录：
- `C:\temp\` - 系统临时目录
- `C:\temp\n8n-files\` - n8n专用文件目录
- `S:\PG-GMO\03-Output\工作任务21-n8n品牌名称可用性检查自动化解决方案\results\` - 项目结果目录

## 🔧 配置要点

### 重要提醒：
1. **使用双反斜杠** `\\` 作为路径分隔符
2. **必须是绝对路径**，不能使用相对路径
3. **保持动态文件名** `{{ $json.fileName }}` 不变
4. **确保目录存在**且有写入权限

### 文件名格式：
工作流会自动生成类似这样的文件名：
- `brand_check_results_2024-01-16_10-30-00.csv`

## 🔍 验证方法

执行工作流后，检查以下位置：
- 如果选择选项1：检查 `C:\temp\n8n-files\`
- 如果选择选项2：检查 `C:\temp\`
- 如果选择选项3：检查项目results目录

## ❗ 常见问题

### Q: 仍然没有文件生成？
**A:** 检查以下几点：
1. 确认路径配置正确（注意双反斜杠）
2. 确认目录存在
3. 检查n8n控制台是否有错误信息
4. 尝试使用最简单的路径：`C:\\temp\\{{ $json.fileName }}`

### Q: 文件名包含特殊字符？
**A:** n8n会自动处理文件名中的特殊字符，通常不会有问题。

### Q: 权限问题？
**A:** 已经为相关目录设置了写入权限，通常不会有权限问题。

## 📋 完整操作清单

- [ ] 打开n8n工作流
- [ ] 找到"保存文件到磁盘"节点
- [ ] 修改fileName参数为推荐路径
- [ ] 保存工作流
- [ ] 重新执行工作流
- [ ] 检查目标目录
- [ ] 验证CSV文件内容

---

**💡 提示：** 如果按照以上步骤操作后仍有问题，请检查n8n控制台的错误日志，或尝试使用最简单的路径配置。